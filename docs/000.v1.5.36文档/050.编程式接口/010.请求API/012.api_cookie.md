---
id: api_cookie
title: ğŸ¥¯ Cookie
date: 2022-07-14 12:43:23
permalink: /pages/1.5.36/api_cookie/
---

## åŠ è½½ Cookie

`onLoadCookie(OnLoadCookie onLoadCookie)` è®¾ç½®åŠ è½½Cookieå›è°ƒå‡½æ•°: åŠ è½½Cookieæ—¶è°ƒç”¨
- å‚æ•°`onLoadCookie`:  OnLoadCookie æ¥å£å®ä¾‹

```java
Forest.post("/")
     // onLoadCookieå›è°ƒå‡½æ•°: åŠ è½½Cookieæ—¶è°ƒç”¨
    .onLoadCookie(((req, cookies) -> {
        // req ä¸ºForestè¯·æ±‚å¯¹è±¡ï¼Œå³ ForestRequest ç±»å®ä¾‹
        // cookies ä¸ºCookieé›†åˆ, éœ€è¦é€šè¿‡è¯·æ±‚å‘é€çš„Cookieéƒ½æ·»åŠ åˆ°è¯¥é›†åˆ
    }));
```

## ä¿å­˜ Cookie

`onSaveCookie(OnSaveCookie onSaveCookie)` è®¾ç½®ä¿å­˜Cookieå›è°ƒå‡½æ•°: éœ€è¦ä¿å­˜Cookieæ—¶è°ƒç”¨
- å‚æ•°`onSaveCookie`:  OnSaveCookie æ¥å£å®ä¾‹

```java
Forest.post("/")
     // onSaveCookieå›è°ƒå‡½æ•°: éœ€è¦ä¿å­˜Cookieæ—¶è°ƒç”¨
    .onSaveCookie(((req, cookies) -> {
        // req ä¸ºForestè¯·æ±‚å¯¹è±¡ï¼Œå³ ForestRequest ç±»å®ä¾‹
        // cookies ä¸ºCookieé›†åˆ, éœ€è¦é€šè¿‡è¯·æ±‚å‘é€çš„Cookieéƒ½æ·»åŠ åˆ°è¯¥é›†åˆ
    }));
```

## ä¸¥æ ¼åŒ¹é…æ¨¡å¼ (v1.5.25)

é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ç¬¦åˆæ¡ä»¶ (å’Œè¯·æ±‚åŒåŸŸåã€åŒURLè·¯å¾„ã€æœªè¿‡æœŸ) çš„ Cookie æ‰èƒ½è¢«æ·»åŠ åˆ°è¯·æ±‚ä¸­

è¿™æ˜¯å› ä¸º Forest çš„ Cookie é›†åˆé»˜è®¤ä¸ºä¸¥æ ¼åŒ¹é…æ¨¡å¼ï¼Œå¦‚æœæƒ³æ·»åŠ ç¬¦åˆåŒ¹é…è¦æ±‚çš„ Cookieï¼Œåªéœ€ä¿®æ”¹ä¸¥æ ¼åŒ¹é…ä¸º`false`å³å¯


```java{4}
Forest.post("/")
    // onLoadCookieå›è°ƒå‡½æ•°: åŠ è½½Cookieæ—¶è°ƒç”¨
    .onLoadCookie(((req, cookies) -> {
        cookies.strict(false) // è®¾ç½®ä¸ºéä¸¥æ ¼åŒ¹é…æ¨¡å¼
        .addCookie(new ForestCookie("attr1", "foo")) // ä¸è®¾åŸŸåï¼Œé»˜è®¤æƒ…å†µä¸‹ä¹Ÿèƒ½æ·»åŠ 
        .addCookie(new ForestCookie("attr2", "bar")) // ä¸è®¾åŸŸåï¼Œé»˜è®¤æƒ…å†µä¸‹ä¹Ÿèƒ½æ·»åŠ 
        // ä¸è®¾åŸŸåï¼Œåªæœ‰åœ¨éä¸¥æ ¼åŒ¹é…æ¨¡å¼ä¸‹å¯ä»¥æ·»åŠ åˆ°è¯·æ±‚ä¸­
        .addCookie(new ForestCookie("attr3", "foobar").setDomain("xxx.com"));
    }));
```
