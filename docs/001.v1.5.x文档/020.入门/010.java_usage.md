---
id: java_usage
title: ğŸ¯ åŸç”ŸJavaç¯å¢ƒä½¿ç”¨
date: 2022-07-01 12:44:20
permalink: /pages/1.5.x/java_usage/
---

åœ¨ Forest ä¾èµ–åŠ å…¥å¥½ä¹‹åï¼Œå°±å¯ä»¥æ„å»º HTTP è¯·æ±‚çš„æ¥å£äº†

åœ¨ Forest ä¸­ï¼Œæ‰€æœ‰çš„ HTTP è¯·æ±‚ä¿¡æ¯éƒ½è¦ç»‘å®šåˆ°æŸä¸€ä¸ªæ¥å£çš„æ–¹æ³•ä¸Šï¼Œä¸éœ€è¦ç¼–å†™å…·ä½“çš„ä»£ç å»å‘é€è¯·æ±‚ã€‚è¯·æ±‚å‘é€æ–¹é€šè¿‡è°ƒç”¨äº‹å…ˆå®šä¹‰å¥½ HTTP è¯·æ±‚ä¿¡æ¯çš„æ¥å£æ–¹æ³•ï¼Œè‡ªåŠ¨å»æ‰§è¡Œ HTTP å‘é€è¯·æ±‚çš„è¿‡ç¨‹ï¼Œå…¶å…·ä½“å‘é€è¯·æ±‚ä¿¡æ¯å°±æ˜¯è¯¥æ–¹æ³•å¯¹åº”ç»‘å®šçš„ HTTP è¯·æ±‚ä¿¡æ¯


## Hello World

åˆ›å»ºä¸€ä¸ª`interface`ï¼Œæ¯”å¦‚å‘½åä¸º`MyClient`ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ¥å£æ–¹æ³•åä¸º`helloForest`ï¼Œç”¨`@Request`æ³¨è§£ä¿®é¥°ä¹‹ã€‚

```java
public interface MyClient {

    @Request("http://localhost:8080/hello")
    String helloForest();

}
```

é€šè¿‡`@Request`æ³¨è§£ï¼Œå°†ä¸Šé¢çš„`MyClient`æ¥å£ä¸­çš„`helloForest()`æ–¹æ³•ç»‘å®šäº†ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œ
å…¶ URL ä¸º`http://localhost:8080/hello`
ï¼Œå¹¶é»˜è®¤ä½¿ç”¨`GET`æ–¹å¼ï¼Œä¸”å°†è¯·æ±‚å“åº”çš„æ•°æ®ä»¥`String`çš„æ–¹å¼è¿”å›ç»™è°ƒç”¨è€…ã€‚


## å‘é€è¯·æ±‚

è‹¥æ‚¨å·²æœ‰å®šä¹‰å¥½çš„ Forest è¯·æ±‚æ¥å£(æ¯”å¦‚åä¸º `com.yoursite.client.MyClient`)ï¼Œé‚£å°±å¯ä»¥å¼€å§‹æ„‰å¿«ä½¿ç”¨å®ƒäº†

é€šè¿‡`Forest`çš„`client(Class clazz)`æ–¹æ³•å®ä¾‹åŒ–æ¥å£ï¼Œç„¶åå¦‚è°ƒç”¨æ™®é€šæ¥å£é‚£æ ·è°ƒç”¨å³å¯

```java
// å®ä¾‹åŒ–Forestè¯·æ±‚æ¥å£
MyClient myClient = Forest.client(MyClient.class);
// è°ƒç”¨Forestè¯·æ±‚æ¥å£ï¼Œå¹¶è·å–å“åº”è¿”å›ç»“æœ
String result = myClient.simpleRequest();
// æ‰“å°å“åº”ç»“æœ
System.out.println(result);
```

