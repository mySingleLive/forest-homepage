---
id: api_response_cookie
title: ğŸ¥ Cookie
date: 2022-07-15 18:14:06
permalink: /pages/1.5.36/api_response_cookie/
---

## Set-Cookie å“åº”å¤´

Cookie åœ¨æœ¬è´¨ä¸Šæ˜¯é€šè¿‡HTTPè¯·æ±‚çš„è¯·æ±‚å¤´å’Œå“åº”å¤´è¿›è¡Œä¼ è¾“å’Œäº¤äº’çš„

è€ŒæœåŠ¡ç«¯å‘èµ·çš„è®¾ç½® Cookie å‘½ä»¤ï¼Œæ˜¯é€šè¿‡åä¸º`Set-Cookie`çš„å“åº”å¤´ä¼ å›ç»™å®¢æˆ·ç«¯çš„

æ‰€ä»¥å¯ä»¥é€šè¿‡`Set-Cookie`çš„å“åº”å¤´æ¥æˆ–è®¸ Cookie ä¿¡æ¯

```java
// é€šè¿‡ Set-Cookie å“åº”å¤´è·å– Cookie ä¿¡æ¯
String cookieValue = response.getHeaderValue("Set-Cookie");
// è§£æ Cookie ä¿¡æ¯
```

ä½†è¿™ä¹ˆåšçš„å¼Šç«¯å°±æ˜¯éœ€è¦è‡ªå·±æ‰‹åŠ¨è§£æ Cookie ä¿¡æ¯ï¼Œååˆ†ä¸ä¾¿

## è·å– Cookie å¯¹è±¡

ForestResponse å¯¹è±¡æä¾›äº†ç›´æ¥è·å–è§£æåçš„ Cookie å¯¹è±¡çš„æ–¹æ³•

`getCookie(String name)` : æ ¹æ®Cookieåç§°è·å–Cookie
- ç‰ˆæœ¬ : v1.5.23+
- å‚æ•°`name` : Cookie åç§°

```java
// è·å–åä¸º userInfo çš„ Cookie å¯¹è±¡
ForestCookie cookie = response.getCookie("userInfo");
// è·å– Cookie åç§°
String name = cookie.getName();
// è·å– Cookie å€¼
String value = cookie.getValue();
// è·å– Cookie åˆ›å»ºæ—¶é—´
Date createTime = cookie.getCreateTime();
// è·å– Cookie æœ€å¤§æœ‰æ•ˆæ—¶é•¿
Duration duration = cookie.getMaxAge();
// è·å– Cookie æ‰€åœ¨åŸŸå
String domain = cookie.getDomain();
// è·å– Cookie æ‰€åœ¨è·¯å¾„
String path = cookie.getPath();
// æ˜¯å¦ä»…é™HTTPS
boolean bSecure = cookie.isSecure();
// æ˜¯å¦ä»…é™HTTPæ–¹å¼è¯»å–
boolean bHttpOnly = cookie.isHttpOnly();
// æ˜¯å¦æŒä¹…åŒ–
boolean bPersistent = cookie.isPersistent(); 
```

## è·å–æ‰€æœ‰ Cookie

`getCookies()` : ä»å“åº”å¤´ä¸­è·å–æ‰€æœ‰çš„ Cookie å¯¹è±¡åˆ—è¡¨
- ç‰ˆæœ¬ : v1.5.23+
- å‚æ•°`name` : Cookie åç§°
- è¿”å›å€¼ : Cookie å¯¹è±¡åˆ—è¡¨

```java
// è·å–æ‰€æœ‰çš„ Cookie å¯¹è±¡åˆ—è¡¨
List<ForestCookie> cookies = response.getCookies();
for (ForestCookie cookie : cookies) {
    // è·å– Cookie åç§°
    String name = cookie.getName();
    // è·å– Cookie å€¼
    String value = cookie.getValue();
    // è·å– Cookie åˆ›å»ºæ—¶é—´
    Date createTime = cookie.getCreateTime();
    // è·å– Cookie æœ€å¤§æœ‰æ•ˆæ—¶é•¿
    Duration duration = cookie.getMaxAge();
    // è·å– Cookie æ‰€åœ¨åŸŸå
    String domain = cookie.getDomain();
    // è·å– Cookie æ‰€åœ¨è·¯å¾„
    String path = cookie.getPath();
    // æ˜¯å¦ä»…é™HTTPS
    boolean bSecure = cookie.isSecure();
    // æ˜¯å¦ä»…é™HTTPæ–¹å¼è¯»å–
    boolean bHttpOnly = cookie.isHttpOnly();
    // æ˜¯å¦æŒä¹…åŒ–
    boolean bPersistent = cookie.isPersistent();
}
```
